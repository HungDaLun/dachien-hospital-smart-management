# EAKAP é€²éšçŸ¥è­˜æ¶æ§‹ç³»çµ±è¨­è¨ˆ
**ç‰ˆæœ¬ï¼š** v3.0  
**å»ºç«‹æ—¥æœŸï¼š** 2026-01-01  
**æœ€å¾Œæ›´æ–°ï¼š** 2026-01-05  
**è¨­è¨ˆç›®æ¨™ï¼š** å»ºç«‹ä¸€å¥—æ¥µåº¦å°ˆæ¥­ã€å…·æŠ€è¡“èˆ‡å…§å®¹é–€æª»çš„çŸ¥è­˜æ¶æ§‹ç³»çµ±ï¼Œè®“ AI Agent èƒ½ç²¾æº–è§£è®€èˆ‡é‹ç”¨ä¼æ¥­çŸ¥è­˜

---

## ğŸ“‹ åŸ·è¡Œæ‘˜è¦

### æ ¸å¿ƒåƒ¹å€¼ä¸»å¼µ

æœ¬ç³»çµ±ä¸åƒ…åƒ…æ˜¯æ–‡ä»¶åˆ†é¡ç³»çµ±ï¼Œè€Œæ˜¯ä¸€å¥—**ã€Œèªç¾©çŸ¥è­˜æ¶æ§‹å¼•æ“ã€**ï¼Œå…·å‚™ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ›ï¼š

#### åŸºç¤èƒ½åŠ›ï¼ˆv2.0ï¼‰
1. **å¤šç¶­åº¦çŸ¥è­˜ç´¢å¼•**ï¼šè¶…è¶Šå‚³çµ±åˆ†é¡ï¼Œå»ºç«‹èªç¾©ã€æ™‚åºã€é—œè¯ã€æ¬Šé‡å››ç¶­ç´¢å¼•
2. **æ™ºèƒ½çŸ¥è­˜è·¯ç”±**ï¼šAgent å»ºç«‹æ™‚è‡ªå‹•é¸æ“‡æœ€ç›¸é—œçš„çŸ¥è­˜ä¾†æº
3. **çŸ¥è­˜å“è³ªè©•ä¼°**ï¼šAI è‡ªå‹•è©•ä¼°çŸ¥è­˜çš„å®Œæ•´æ€§ã€æº–ç¢ºæ€§ã€æ™‚æ•ˆæ€§
4. **èªç¾©çŸ¥è­˜åœ–è­œ**ï¼šå»ºç«‹çŸ¥è­˜ä¹‹é–“çš„èªç¾©é—œè¯ï¼Œæ”¯æ´æ¨ç†èˆ‡ç™¼ç¾
5. **çŸ¥è­˜æ¼”åŒ–è¿½è¹¤**ï¼šè¿½è¹¤çŸ¥è­˜çš„ç‰ˆæœ¬æ¼”é€²èˆ‡ä¾è³´é—œä¿‚

#### é€²éšèƒ½åŠ›ï¼ˆv3.0 æ–°å¢ï¼‰
6. **çŸ¥è­˜è¡°æ¸›æ¨¡å‹**ï¼šä¾çŸ¥è­˜é¡å‹è‡ªå‹•è¨ˆç®—ã€ŒçŸ¥è­˜ä¿é®®æœŸã€ï¼Œé¿å…ä½¿ç”¨éæ™‚çŸ¥è­˜
7. **åé¥‹å­¸ç¿’è¿´è·¯**ï¼šå¾ Agent ä½¿ç”¨çµæœå­¸ç¿’ï¼ŒæŒçºŒå„ªåŒ–çŸ¥è­˜å“è³ªè©•åˆ†
8. **çŸ¥è­˜ç¢ç‰‡èšåˆ**ï¼šè‡ªå‹•ç™¼ç¾ä¸¦æ•´åˆåˆ†æ•£çš„çŸ¥è­˜ç¢ç‰‡ï¼Œå»ºæ§‹å®Œæ•´çŸ¥è­˜å–®å…ƒ
9. **é«˜æ•ˆèƒ½èªç¾©æœå°‹**ï¼šä½¿ç”¨ ANN æ¼”ç®—æ³•å¯¦ç¾è¬ç´šæ–‡ä»¶çš„å³æ™‚èªç¾©æœå°‹
10. **ä¸»å‹•æ¨é€æ©Ÿåˆ¶**ï¼šçŸ¥è­˜è®Šæ›´æ™‚ä¸»å‹•é€šçŸ¥ç›¸é—œ Agentï¼Œé¿å…ä½¿ç”¨éæ™‚çŸ¥è­˜

### æŠ€è¡“é–€æª»

- **è¤‡é›œåº¦é–€æª»**ï¼šå¤šå±¤æ¬¡ AI æ¨ç†ã€èªç¾©åˆ†æã€é—œè¯è¨ˆç®—
- **å…§å®¹é–€æª»**ï¼šåŸºæ–¼ DIKW ç†è«–ã€çŸ¥è­˜ç®¡ç†æœ€ä½³å¯¦è¸ã€ä¼æ¥­æ²»ç†æ¨™æº–
- **å¯¦ä½œé–€æª»**ï¼šéœ€è¦æ·±åº¦ç†è§£ AI Agent é‹ä½œæ©Ÿåˆ¶ã€çŸ¥è­˜åœ–è­œæŠ€è¡“ã€èªç¾©æœå°‹

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹è¨­è¨ˆ

### 1. å¤šç¶­åº¦çŸ¥è­˜ç´¢å¼•ç³»çµ±ï¼ˆMulti-dimensional Knowledge Indexï¼‰

#### 1.1 å››ç¶­ç´¢å¼•æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å¤šç¶­åº¦çŸ¥è­˜ç´¢å¼•ç³»çµ± (MDKI)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ èªç¾©ç¶­åº¦     â”‚  â”‚ æ™‚åºç¶­åº¦     â”‚  â”‚ é—œè¯ç¶­åº¦     â”‚ â”‚
â”‚  â”‚ Semantic     â”‚  â”‚ Temporal     â”‚  â”‚ Relational   â”‚ â”‚
â”‚  â”‚ - Embedding  â”‚  â”‚ - Created    â”‚  â”‚ - Framework  â”‚ â”‚
â”‚  â”‚ - Keywords   â”‚  â”‚ - Updated    â”‚  â”‚ - Dependency â”‚ â”‚
â”‚  â”‚ - Topics     â”‚  â”‚ - ValidUntil â”‚  â”‚ - Hierarchy  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ¬Šé‡ç¶­åº¦     â”‚  â”‚ å“è³ªç¶­åº¦     â”‚  â”‚ å¯ç”¨æ€§ç¶­åº¦   â”‚ â”‚
â”‚  â”‚ Weight       â”‚  â”‚ Quality      â”‚  â”‚ Availability â”‚ â”‚
â”‚  â”‚ - Relevance  â”‚  â”‚ - Completenessâ”‚ â”‚ - Access     â”‚ â”‚
â”‚  â”‚ - Authority  â”‚  â”‚ - Accuracy   â”‚  â”‚ - Status     â”‚ â”‚
â”‚  â”‚ - Usage      â”‚  â”‚ - Freshness   â”‚  â”‚ - Permission â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.2 ç´¢å¼•å¯¦ä½œè¨­è¨ˆ

```typescript
// lib/knowledge/indexing/multi-dimensional-index.ts

/**
 * å¤šç¶­åº¦çŸ¥è­˜ç´¢å¼•
 */
export interface MultiDimensionalKnowledgeIndex {
    // èªç¾©ç¶­åº¦
    semantic: {
        embedding: number[];           // å‘é‡åµŒå…¥ï¼ˆ1536 ç¶­ï¼‰
        keywords: string[];              // é—œéµè©ï¼ˆTF-IDF åŠ æ¬Šï¼‰
        topics: string[];                // ä¸»é¡Œæ¨™ç±¤
        entities: Entity[];              // å¯¦é«”è­˜åˆ¥ï¼ˆäººç‰©ã€çµ„ç¹”ã€ç”¢å“ç­‰ï¼‰
        concepts: Concept[];              // æ¦‚å¿µæå–ï¼ˆæŠ½è±¡æ¦‚å¿µï¼‰
    };
    
    // æ™‚åºç¶­åº¦
    temporal: {
        created_at: string;              // å»ºç«‹æ™‚é–“
        updated_at: string;              // æ›´æ–°æ™‚é–“
        valid_from: string;              // ç”Ÿæ•ˆæ™‚é–“
        valid_until: string | null;      // å¤±æ•ˆæ™‚é–“
        version: string;                 // ç‰ˆæœ¬è™Ÿ
        lifecycle_stage: LifecycleStage; // ç”Ÿå‘½é€±æœŸéšæ®µ
    };
    
    // é—œè¯ç¶­åº¦
    relational: {
        framework_id: string | null;     // æ‰€å±¬çŸ¥è­˜æ¡†æ¶
        instance_id: string | null;      // çŸ¥è­˜å¯¦ä¾‹ ID
        parent_file_id: string | null;   // çˆ¶æª”æ¡ˆï¼ˆè¡ç”Ÿé—œä¿‚ï¼‰
        child_file_ids: string[];        // å­æª”æ¡ˆï¼ˆè¡ç”Ÿé—œä¿‚ï¼‰
        related_file_ids: string[];      // ç›¸é—œæª”æ¡ˆï¼ˆèªç¾©é—œè¯ï¼‰
        dependency_chain: string[];      // ä¾è³´éˆï¼ˆçŸ¥è­˜ä¾è³´ï¼‰
    };
    
    // æ¬Šé‡ç¶­åº¦
    weight: {
        relevance_score: number;          // ç›¸é—œåº¦è©•åˆ†ï¼ˆ0-1ï¼‰
        authority_score: number;         // æ¬Šå¨æ€§è©•åˆ†ï¼ˆ0-1ï¼‰
        usage_frequency: number;         // ä½¿ç”¨é »ç‡
        citation_count: number;         // å¼•ç”¨æ¬¡æ•¸
        agent_usage_count: number;       // Agent ä½¿ç”¨æ¬¡æ•¸
    };
    
    // å“è³ªç¶­åº¦
    quality: {
        completeness_score: number;      // å®Œæ•´æ€§è©•åˆ†ï¼ˆ0-1ï¼‰
        accuracy_score: number;          // æº–ç¢ºæ€§è©•åˆ†ï¼ˆ0-1ï¼‰
        freshness_score: number;         // æ™‚æ•ˆæ€§è©•åˆ†ï¼ˆ0-1ï¼‰
        consistency_score: number;       // ä¸€è‡´æ€§è©•åˆ†ï¼ˆ0-1ï¼‰
        validation_status: ValidationStatus; // é©—è­‰ç‹€æ…‹
    };
    
    // å¯ç”¨æ€§ç¶­åº¦
    availability: {
        access_level: AccessLevel;       // å­˜å–å±¤ç´š
        department_restrictions: string[]; // éƒ¨é–€é™åˆ¶
        tag_restrictions: TagRestriction[]; // æ¨™ç±¤é™åˆ¶
        status: FileStatus;              // æª”æ¡ˆç‹€æ…‹
        dikw_level: DIKWLevel;           // DIKW å±¤ç´š
    };
}
```

### 2. æ™ºèƒ½çŸ¥è­˜è·¯ç”±ç³»çµ±ï¼ˆIntelligent Knowledge Routingï¼‰

#### 2.1 Agent çŸ¥è­˜è·¯ç”±æ¼”ç®—æ³•

ç•¶ Agent å»ºç«‹æ™‚ï¼Œç³»çµ±æœƒè‡ªå‹•é¸æ“‡æœ€ç›¸é—œçš„çŸ¥è­˜ä¾†æºï¼š

```typescript
// lib/knowledge/routing/agent-knowledge-router.ts

/**
 * Agent çŸ¥è­˜è·¯ç”±æ¼”ç®—æ³•
 * 
 * ç›®æ¨™ï¼šæ ¹æ“š Agent çš„ä»»å‹™æè¿°ï¼Œè‡ªå‹•é¸æ“‡æœ€ç›¸é—œçš„çŸ¥è­˜ä¾†æº
 */
export class AgentKnowledgeRouter {
    /**
     * ç‚º Agent é¸æ“‡çŸ¥è­˜ä¾†æº
     */
    async routeKnowledgeForAgent(
        agentDescription: string,
        agentSkills: AgentSkill[],
        departmentId: string | null
    ): Promise<KnowledgeRoute[]> {
        
        // Step 1: èªç¾©åŒ¹é…ï¼ˆä½¿ç”¨ Embedding ç›¸ä¼¼åº¦ï¼‰
        const semanticMatches = await this.findSemanticMatches(
            agentDescription,
            agentSkills,
            departmentId
        );
        
        // Step 2: æ¡†æ¶åŒ¹é…ï¼ˆæ ¹æ“š Agent Skills åŒ¹é…çŸ¥è­˜æ¡†æ¶ï¼‰
        const frameworkMatches = await this.findFrameworkMatches(
            agentSkills,
            departmentId
        );
        
        // Step 3: DIKW å±¤ç´šéæ¿¾ï¼ˆå„ªå…ˆé¸æ“‡ Knowledge å’Œ Wisdom å±¤ç´šï¼‰
        const dikwFiltered = this.filterByDIKWLevel(
            [...semanticMatches, ...frameworkMatches],
            ['knowledge', 'wisdom'] // å„ªå…ˆå±¤ç´š
        );
        
        // Step 4: å“è³ªéæ¿¾ï¼ˆéæ¿¾ä½å“è³ªçŸ¥è­˜ï¼‰
        const qualityFiltered = this.filterByQuality(
            dikwFiltered,
            { minCompleteness: 0.7, minAccuracy: 0.8 }
        );
        
        // Step 5: æ™‚æ•ˆæ€§éæ¿¾ï¼ˆéæ¿¾éæœŸçŸ¥è­˜ï¼‰
        const temporalFiltered = this.filterByTemporal(
            qualityFiltered,
            { maxAge: 365 } // æœ€å¤š 1 å¹´
        );
        
        // Step 6: æ¬Šé‡æ’åºï¼ˆç¶œåˆç›¸é—œåº¦ã€æ¬Šå¨æ€§ã€ä½¿ç”¨é »ç‡ï¼‰
        const ranked = this.rankByWeight(temporalFiltered, {
            relevanceWeight: 0.4,
            authorityWeight: 0.3,
            usageWeight: 0.3
        });
        
        // Step 7: å¤šæ¨£æ€§å¹³è¡¡ï¼ˆç¢ºä¿çŸ¥è­˜ä¾†æºå¤šæ¨£åŒ–ï¼‰
        const diversified = this.ensureDiversity(ranked, {
            maxPerFramework: 3,
            maxPerCategory: 5,
            minTotalSources: 5,
            maxTotalSources: 20
        });
        
        return diversified;
    }
}
```

### 3. çŸ¥è­˜å“è³ªè©•ä¼°ç³»çµ±ï¼ˆKnowledge Quality Assessmentï¼‰

#### 3.1 å¤šç¶­åº¦å“è³ªè©•ä¼°

```typescript
// lib/knowledge/quality/quality-assessor.ts

/**
 * çŸ¥è­˜å“è³ªè©•ä¼°ç³»çµ±
 * 
 * è‡ªå‹•è©•ä¼°çŸ¥è­˜çš„å®Œæ•´æ€§ã€æº–ç¢ºæ€§ã€æ™‚æ•ˆæ€§ã€ä¸€è‡´æ€§
 */
export class KnowledgeQualityAssessor {
    /**
     * è©•ä¼°çŸ¥è­˜å“è³ª
     */
    async assessQuality(
        fileId: string,
        content: string,
        metadata: any
    ): Promise<QualityAssessment> {
        
        // 1. å®Œæ•´æ€§è©•ä¼°
        const completeness = await this.assessCompleteness(content, metadata);
        
        // 2. æº–ç¢ºæ€§è©•ä¼°
        const accuracy = await this.assessAccuracy(content, metadata);
        
        // 3. æ™‚æ•ˆæ€§è©•ä¼°
        const freshness = await this.assessFreshness(metadata);
        
        // 4. ä¸€è‡´æ€§è©•ä¼°
        const consistency = await this.assessConsistency(content, metadata);
        
        // 5. çµæ§‹åŒ–ç¨‹åº¦è©•ä¼°
        const structure = await this.assessStructure(content);
        
        // 6. ç¶œåˆè©•åˆ†
        const overallScore = this.calculateOverallScore({
            completeness,
            accuracy,
            freshness,
            consistency,
            structure
        });
        
        return {
            completeness,
            accuracy,
            freshness,
            consistency,
            structure,
            overall_score: overallScore,
            recommendations: this.generateRecommendations({
                completeness,
                accuracy,
                freshness,
                consistency,
                structure
            })
        };
    }
}
```

### 4. èªç¾©çŸ¥è­˜åœ–è­œï¼ˆSemantic Knowledge Graphï¼‰

#### 4.1 çŸ¥è­˜é—œè¯ç™¼ç¾

```typescript
// lib/knowledge/graph/semantic-graph-builder.ts

/**
 * èªç¾©çŸ¥è­˜åœ–è­œå»ºæ§‹å™¨
 * 
 * è‡ªå‹•ç™¼ç¾çŸ¥è­˜ä¹‹é–“çš„èªç¾©é—œè¯
 */
export class SemanticKnowledgeGraphBuilder {
    /**
     * å»ºæ§‹çŸ¥è­˜åœ–è­œ
     */
    async buildGraph(fileIds: string[]): Promise<KnowledgeGraph> {
        const nodes: GraphNode[] = [];
        const edges: GraphEdge[] = [];
        
        // 1. å»ºç«‹ç¯€é»ï¼ˆæª”æ¡ˆã€çŸ¥è­˜å¯¦ä¾‹ã€æ¡†æ¶ï¼‰
        for (const fileId of fileIds) {
            const file = await this.getFile(fileId);
            nodes.push({
                id: fileId,
                type: 'file',
                label: file.filename,
                data: {
                    dikw_level: file.dikw_level,
                    category: file.category_id,
                    department: file.department_id
                }
            });
        }
        
        // 2. ç™¼ç¾èªç¾©é—œè¯
        const semanticEdges = await this.discoverSemanticRelations(nodes);
        edges.push(...semanticEdges);
        
        // 3. ç™¼ç¾ä¾è³´é—œä¿‚
        const dependencyEdges = await this.discoverDependencies(nodes);
        edges.push(...dependencyEdges);
        
        return {
            nodes,
            edges,
            metadata: {
                node_count: nodes.length,
                edge_count: edges.length,
                density: edges.length / (nodes.length * (nodes.length - 1))
            }
        };
    }
}
```

### 5. çŸ¥è­˜æ¼”åŒ–è¿½è¹¤ç³»çµ±ï¼ˆKnowledge Evolution Trackingï¼‰

#### 5.1 ç‰ˆæœ¬æ¼”é€²è¿½è¹¤

```typescript
// lib/knowledge/evolution/evolution-tracker.ts

/**
 * çŸ¥è­˜æ¼”åŒ–è¿½è¹¤ç³»çµ±
 * 
 * è¿½è¹¤çŸ¥è­˜çš„ç‰ˆæœ¬æ¼”é€²ã€ä¾è³´é—œä¿‚ã€å½±éŸ¿ç¯„åœ
 */
export class KnowledgeEvolutionTracker {
    /**
     * è¿½è¹¤çŸ¥è­˜æ¼”åŒ–
     */
    async trackEvolution(fileId: string): Promise<EvolutionChain> {
        // 1. å–å¾—ç‰ˆæœ¬æ­·å²
        const versions = await this.getVersionHistory(fileId);
        
        // 2. åˆ†æè®Šæ›´å…§å®¹
        const changes = await this.analyzeChanges(versions);
        
        // 3. è¿½è¹¤ä¾è³´å½±éŸ¿
        const impact = await this.trackDependencyImpact(fileId);
        
        // 4. å»ºæ§‹æ¼”åŒ–éˆ
        return {
            file_id: fileId,
            versions,
            changes,
            impact,
            evolution_path: this.buildEvolutionPath(versions, changes)
        };
    }
}
```

---

## ğŸ†• v3.0 é€²éšå­ç³»çµ±è¨­è¨ˆ

### 6. çŸ¥è­˜è¡°æ¸›æ¨¡å‹ï¼ˆKnowledge Decay Modelï¼‰

#### 6.1 è¨­è¨ˆç†å¿µ

**æ ¸å¿ƒå•é¡Œ**ï¼šä¸åŒé¡å‹çš„çŸ¥è­˜æœ‰ä¸åŒçš„ã€Œä¿é®®æœŸã€ï¼Œç°¡å–®çš„æ™‚é–“é–¾å€¼ç„¡æ³•ç²¾æº–åˆ¤æ–·çŸ¥è­˜æ˜¯å¦éæ™‚ã€‚

**è§£æ±ºæ–¹æ¡ˆ**ï¼šå»ºç«‹ä¾æ“šçŸ¥è­˜é¡å‹çš„ã€Œè¡°æ¸›æ›²ç·šæ¨¡å‹ã€ï¼Œè‡ªå‹•è¨ˆç®—çŸ¥è­˜çš„æœ‰æ•ˆæ€§åˆ†æ•¸ã€‚

#### 6.2 è¡°æ¸›æ›²ç·šé¡å‹å®šç¾©

```typescript
// lib/knowledge/decay/knowledge-decay-model.ts

export enum KnowledgeDecayType {
    STABLE = 'stable',         // ç©©å®šå‹ï¼ˆå¦‚æ³•è¦ã€æ”¿ç­–ï¼‰
    TECHNICAL = 'technical',   // æŠ€è¡“å‹ï¼ˆå¦‚ API æ–‡ä»¶ï¼‰
    MARKET = 'market',         // å¸‚å ´å‹ï¼ˆå¦‚ç«¶å“åˆ†æï¼‰
    EVENT = 'event',           // äº‹ä»¶å‹ï¼ˆå¦‚æœƒè­°è¨˜éŒ„ï¼‰
    PROCEDURAL = 'procedural', // æµç¨‹å‹ï¼ˆå¦‚ SOPï¼‰
    REFERENCE = 'reference'    // åƒè€ƒå‹ï¼ˆå¦‚ç™¾ç§‘çŸ¥è­˜ï¼‰
}

/**
 * è¡°æ¸›æ›²ç·šé…ç½®è¡¨
 * 
 * åŠè¡°æœŸè¨­è¨ˆç†å¿µï¼š
 * - ç©©å®šå‹ï¼šæ³•è¦é€šå¸¸ 3-5 å¹´æ›´æ–°ï¼Œè¨­å®š 1095 å¤©ï¼ˆ3 å¹´ï¼‰
 * - æŠ€è¡“å‹ï¼šæŠ€è¡“è¿­ä»£å¿«ï¼Œè¨­å®š 365 å¤©ï¼ˆ1 å¹´ï¼‰
 * - å¸‚å ´å‹ï¼šå¸‚å ´è®ŠåŒ–è¿…é€Ÿï¼Œè¨­å®š 90 å¤©ï¼ˆ3 å€‹æœˆï¼‰
 * - äº‹ä»¶å‹ï¼šæœƒè­°è¨˜éŒ„æ™‚æ•ˆæ€§æœ€çŸ­ï¼Œè¨­å®š 30 å¤©ï¼ˆ1 å€‹æœˆï¼‰
 */
export const DECAY_CURVES: Map<KnowledgeDecayType, DecayCurve> = new Map([
    [KnowledgeDecayType.STABLE, {
        type: KnowledgeDecayType.STABLE,
        halfLife: 1095,  // 3 å¹´
        minValidScore: 0.3,
        decayFunction: 'exponential'
    }],
    [KnowledgeDecayType.TECHNICAL, {
        type: KnowledgeDecayType.TECHNICAL,
        halfLife: 365,   // 1 å¹´
        minValidScore: 0.4,
        decayFunction: 'exponential'
    }],
    [KnowledgeDecayType.MARKET, {
        type: KnowledgeDecayType.MARKET,
        halfLife: 90,    // 3 å€‹æœˆ
        minValidScore: 0.5,
        decayFunction: 'exponential'
    }],
    [KnowledgeDecayType.EVENT, {
        type: KnowledgeDecayType.EVENT,
        halfLife: 30,    // 1 å€‹æœˆ
        minValidScore: 0.3,
        decayFunction: 'exponential'
    }],
    [KnowledgeDecayType.PROCEDURAL, {
        type: KnowledgeDecayType.PROCEDURAL,
        halfLife: 548,   // 1.5 å¹´
        minValidScore: 0.5,
        decayFunction: 'step'  // SOP éæœŸå°±æ˜¯éæœŸï¼Œæ²’æœ‰æ¼¸é€²
    }],
    [KnowledgeDecayType.REFERENCE, {
        type: KnowledgeDecayType.REFERENCE,
        halfLife: 730,   // 2 å¹´
        minValidScore: 0.4,
        decayFunction: 'linear'
    }]
]);
```

#### 6.3 è³‡æ–™åº«çµæ§‹æ“´å……

```sql
-- æ–°å¢æ¬„ä½åˆ° files è¡¨
ALTER TABLE files ADD COLUMN IF NOT EXISTS decay_type VARCHAR(20) DEFAULT 'reference';
ALTER TABLE files ADD COLUMN IF NOT EXISTS decay_score DECIMAL(3,2) DEFAULT 1.0;
ALTER TABLE files ADD COLUMN IF NOT EXISTS decay_status VARCHAR(20) DEFAULT 'fresh';
ALTER TABLE files ADD COLUMN IF NOT EXISTS valid_until TIMESTAMPTZ DEFAULT NULL;

-- å»ºç«‹ç´¢å¼•ä»¥åŠ é€Ÿè¡°æ¸›ç‹€æ…‹æŸ¥è©¢
CREATE INDEX IF NOT EXISTS idx_files_decay_status 
    ON files(decay_status) WHERE gemini_state = 'SYNCED';
```

---

### 7. åé¥‹å­¸ç¿’è¿´è·¯ï¼ˆFeedback Learning Loopï¼‰

#### 7.1 è¨­è¨ˆç†å¿µ

**æ ¸å¿ƒå•é¡Œ**ï¼šç³»çµ±åªè¨˜éŒ„çŸ¥è­˜è¢«ä½¿ç”¨æ¬¡æ•¸ï¼Œä½†ä¸çŸ¥é“ä½¿ç”¨æ•ˆæœå¥½ä¸å¥½ã€‚

**è§£æ±ºæ–¹æ¡ˆ**ï¼šå»ºç«‹å®Œæ•´çš„åé¥‹æ”¶é›†èˆ‡å­¸ç¿’æ©Ÿåˆ¶ï¼Œè®“çŸ¥è­˜å“è³ªè©•åˆ†èƒ½å¤ æŒçºŒå„ªåŒ–ã€‚

#### 7.2 åé¥‹é¡å‹å®šç¾©

```typescript
// lib/knowledge/feedback/feedback-types.ts

export enum FeedbackSource {
    USER_EXPLICIT = 'user_explicit',     // ä½¿ç”¨è€…æ˜ç¢ºåé¥‹ï¼ˆæŒ‰è®š/å€’è®šï¼‰
    USER_IMPLICIT = 'user_implicit',     // ä½¿ç”¨è€…éš±æ€§åé¥‹ï¼ˆç¹¼çºŒå°è©±/é‡æ–°æå•ï¼‰
    AGENT_SELF = 'agent_self',           // Agent è‡ªæˆ‘è©•ä¼°
    SYSTEM_AUDIT = 'system_audit'        // ç³»çµ±å¯©è¨ˆ
}

export enum FeedbackType {
    HELPFUL = 'helpful',               // æœ‰å¹«åŠ©
    NOT_HELPFUL = 'not_helpful',       // æ²’å¹«åŠ©
    OUTDATED = 'outdated',            // è³‡è¨Šéæ™‚
    INACCURATE = 'inaccurate',        // è³‡è¨Šä¸æ­£ç¢º
    INCOMPLETE = 'incomplete',         // è³‡è¨Šä¸å®Œæ•´
    IRRELEVANT = 'irrelevant',        // èˆ‡å•é¡Œç„¡é—œ
    PERFECT = 'perfect'               // å®Œç¾å›ç­”
}
```

#### 7.3 è³‡æ–™åº«çµæ§‹

```sql
-- åé¥‹äº‹ä»¶è¡¨
CREATE TABLE IF NOT EXISTS knowledge_feedback_events (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    file_id UUID REFERENCES files(id) ON DELETE CASCADE,
    agent_id UUID REFERENCES agents(id) ON DELETE SET NULL,
    session_id VARCHAR(255),
    
    source VARCHAR(30) NOT NULL,
    sentiment VARCHAR(10) NOT NULL,
    score DECIMAL(3,2) NOT NULL,
    feedback_type VARCHAR(30) NOT NULL,
    details JSONB DEFAULT '{}',
    context JSONB DEFAULT '{}',
    
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- æ–°å¢æ¬„ä½åˆ° files è¡¨
ALTER TABLE files ADD COLUMN IF NOT EXISTS feedback_score DECIMAL(3,2) DEFAULT 0.5;
ALTER TABLE files ADD COLUMN IF NOT EXISTS feedback_count INTEGER DEFAULT 0;
ALTER TABLE files ADD COLUMN IF NOT EXISTS positive_ratio DECIMAL(3,2) DEFAULT 0.5;
ALTER TABLE files ADD COLUMN IF NOT EXISTS needs_review BOOLEAN DEFAULT FALSE;
```

---

### 8. çŸ¥è­˜ç¢ç‰‡èšåˆï¼ˆKnowledge Fragment Aggregationï¼‰

#### 8.1 è¨­è¨ˆç†å¿µ

**æ ¸å¿ƒå•é¡Œ**ï¼šä¼æ¥­çŸ¥è­˜å¾€å¾€åˆ†æ•£åœ¨å¤šä»½æ–‡ä»¶ä¸­ï¼ŒAgent åªèƒ½ç²å–ç‰‡æ®µè¦–è§’ã€‚

**è§£æ±ºæ–¹æ¡ˆ**ï¼šè‡ªå‹•ç™¼ç¾è¨è«–åŒä¸€æ¦‚å¿µçš„æ–‡ä»¶ï¼Œèšåˆæˆå®Œæ•´çš„ã€ŒçŸ¥è­˜å–®å…ƒã€ã€‚

#### 8.2 çŸ¥è­˜å–®å…ƒå®šç¾©

```typescript
// lib/knowledge/aggregation/knowledge-unit.ts

export interface KnowledgeUnit {
    id: string;
    concept_id: string;           // æ ¸å¿ƒæ¦‚å¿µ ID
    concept_name: string;         // æ¦‚å¿µåç¨±ï¼ˆå¦‚ã€Œå“¡å·¥é›¢è·æµç¨‹ã€ï¼‰
    concept_description: string;  // æ¦‚å¿µæè¿°
    source_files: SourceFile[];   // çµ„æˆæ­¤çŸ¥è­˜å–®å…ƒçš„æ–‡ä»¶
    synthesized_knowledge: string;  // AI åˆæˆçš„çµ±ä¸€çŸ¥è­˜
    conflicts: ConflictRecord[];    // ç™¼ç¾çš„è¡çª
    conflict_resolution: string;    // è¡çªè§£æ±ºèªªæ˜
    completeness_score: number;     // çŸ¥è­˜å®Œæ•´åº¦
    confidence_score: number;       // ç¶œåˆä¿¡å¿ƒåº¦
    coverage_map: CoverageMap;      // çŸ¥è­˜è¦†è“‹åœ°åœ–
    created_at: string;
    updated_at: string;
    auto_generated: boolean;
}
```

#### 8.3 è³‡æ–™åº«çµæ§‹

```sql
-- çŸ¥è­˜å–®å…ƒè¡¨
CREATE TABLE IF NOT EXISTS knowledge_units (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    concept_id VARCHAR(255) NOT NULL UNIQUE,
    concept_name VARCHAR(500) NOT NULL,
    concept_description TEXT,
    source_files JSONB NOT NULL DEFAULT '[]',
    synthesized_knowledge TEXT,
    conflicts JSONB DEFAULT '[]',
    conflict_resolution TEXT,
    completeness_score DECIMAL(3,2) DEFAULT 0,
    confidence_score DECIMAL(3,2) DEFAULT 0,
    coverage_map JSONB DEFAULT '{}',
    auto_generated BOOLEAN DEFAULT TRUE,
    needs_human_review BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- çŸ¥è­˜å–®å…ƒèˆ‡æ–‡ä»¶çš„é—œè¯è¡¨
CREATE TABLE IF NOT EXISTS knowledge_unit_files (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    unit_id UUID REFERENCES knowledge_units(id) ON DELETE CASCADE,
    file_id UUID REFERENCES files(id) ON DELETE CASCADE,
    contribution TEXT,
    coverage_areas JSONB DEFAULT '[]',
    weight DECIMAL(3,2) DEFAULT 1.0,
    UNIQUE(unit_id, file_id)
);
```

---

### 9. é«˜æ•ˆèƒ½èªç¾©æœå°‹ï¼ˆHigh-Performance Semantic Searchï¼‰

#### 9.1 è¨­è¨ˆç†å¿µ

**æ ¸å¿ƒå•é¡Œ**ï¼šå…©å…©æ¯”è¼ƒ Embedding çš„ O(nÂ²) æ¼”ç®—æ³•åœ¨è¬ç´šæ–‡ä»¶æ™‚æ¥µæ…¢ã€‚

**è§£æ±ºæ–¹æ¡ˆ**ï¼šä½¿ç”¨ Approximate Nearest Neighbor (ANN) æ¼”ç®—æ³•å¯¦ç¾è¿‘ä¼¼å³æ™‚æœå°‹ã€‚

#### 9.2 PostgreSQL + pgvector å„ªåŒ–é…ç½®

```sql
-- ç¢ºä¿ pgvector æ“´å±•å·²å•Ÿç”¨
CREATE EXTENSION IF NOT EXISTS vector;

-- ç‚º content_embedding å»ºç«‹ HNSW ç´¢å¼•ï¼ˆæ¨è–¦ç”¨æ–¼é«˜ç¶­å‘é‡ï¼‰
CREATE INDEX IF NOT EXISTS idx_files_embedding_hnsw 
    ON files 
    USING hnsw (content_embedding vector_cosine_ops)
    WITH (m = 16, ef_construction = 64);

-- èªç¾©æœå°‹å‡½æ•¸ï¼ˆä½¿ç”¨ ANN ç´¢å¼•ï¼‰
CREATE OR REPLACE FUNCTION semantic_search_ann(
    query_embedding vector(1536),
    similarity_threshold FLOAT DEFAULT 0.7,
    match_count INTEGER DEFAULT 10,
    filter_department UUID DEFAULT NULL,
    filter_category UUID DEFAULT NULL,
    filter_dikw_level TEXT DEFAULT NULL
)
RETURNS TABLE(
    id UUID,
    filename TEXT,
    similarity FLOAT,
    snippet TEXT,
    dikw_level TEXT,
    decay_score FLOAT
) AS $$
BEGIN
    RETURN QUERY
    SELECT 
        f.id,
        f.filename,
        1 - (f.content_embedding <=> query_embedding) as similarity,
        LEFT(f.markdown_content, 200) as snippet,
        f.dikw_level,
        f.decay_score
    FROM files f
    WHERE f.gemini_state = 'SYNCED'
    AND f.content_embedding IS NOT NULL
    AND (filter_department IS NULL OR f.department_id = filter_department)
    AND (filter_category IS NULL OR f.category_id = filter_category)
    AND (filter_dikw_level IS NULL OR f.dikw_level = filter_dikw_level)
    AND 1 - (f.content_embedding <=> query_embedding) >= similarity_threshold
    ORDER BY f.content_embedding <=> query_embedding
    LIMIT match_count;
END;
$$ LANGUAGE plpgsql;
```

#### 9.3 æ•ˆèƒ½å°æ¯”

| æ¼”ç®—æ³• | æ™‚é–“è¤‡é›œåº¦ | 10,000 æª”æ¡ˆ | 100,000 æª”æ¡ˆ | ç²¾ç¢ºåº¦ |
|-------|-----------|-------------|--------------|--------|
| æš´åŠ›æ³• (Brute Force) | O(nÂ²) | ~5 åˆ†é˜ | ~8 å°æ™‚ | 100% |
| IVFFlat | O(nÂ·âˆšn) | ~3 ç§’ | ~30 ç§’ | ~95% |
| **HNSW** | O(nÂ·log n) | **<1 ç§’** | **~5 ç§’** | **~98%** |

---

### 10. ä¸»å‹•æ¨é€æ©Ÿåˆ¶ï¼ˆProactive Knowledge Pushï¼‰

#### 10.1 è¨­è¨ˆç†å¿µ

**æ ¸å¿ƒå•é¡Œ**ï¼šçŸ¥è­˜æ›´æ–°æ™‚ï¼Œä½¿ç”¨è©²çŸ¥è­˜çš„ Agent ä¸æœƒè‡ªå‹•çŸ¥é“ã€‚

**è§£æ±ºæ–¹æ¡ˆ**ï¼šå»ºç«‹äº‹ä»¶é©…å‹•çš„ä¸»å‹•é€šçŸ¥ç³»çµ±ã€‚

#### 10.2 é€šçŸ¥äº‹ä»¶é¡å‹

```typescript
// lib/knowledge/push/notification-types.ts

export enum KnowledgeNotificationType {
    // ç·Šæ€¥é€šçŸ¥ï¼ˆéœ€ç«‹å³è™•ç†ï¼‰
    KNOWLEDGE_EXPIRED = 'knowledge_expired',
    CRITICAL_UPDATE = 'critical_update',
    CONFLICT_DETECTED = 'conflict_detected',
    
    // é‡è¦é€šçŸ¥ï¼ˆå»ºè­°ç•¶æ—¥è™•ç†ï¼‰
    KNOWLEDGE_UPDATED = 'knowledge_updated',
    QUALITY_DEGRADATION = 'quality_degradation',
    APPROACHING_EXPIRY = 'approaching_expiry',
    
    // è³‡è¨Šé€šçŸ¥ï¼ˆå¯ç¨å¾Œè™•ç†ï¼‰
    NEW_RELATED_KNOWLEDGE = 'new_related_knowledge',
    AGGREGATION_AVAILABLE = 'aggregation_available',
    FEEDBACK_SUMMARY = 'feedback_summary'
}
```

#### 10.3 è³‡æ–™åº«çµæ§‹

```sql
-- é€šçŸ¥è¡¨
CREATE TABLE IF NOT EXISTS knowledge_notifications (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    type VARCHAR(50) NOT NULL,
    priority VARCHAR(10) NOT NULL,
    affected_files UUID[] DEFAULT '{}',
    affected_agents UUID[] DEFAULT '{}',
    affected_users UUID[] DEFAULT '{}',
    title TEXT NOT NULL,
    message TEXT NOT NULL,
    details JSONB DEFAULT '{}',
    suggested_actions JSONB DEFAULT '[]',
    status VARCHAR(20) DEFAULT 'pending',
    created_at TIMESTAMPTZ DEFAULT NOW(),
    sent_at TIMESTAMPTZ,
    read_at TIMESTAMPTZ,
    resolved_at TIMESTAMPTZ,
    resolved_by UUID REFERENCES user_profiles(id)
);

-- Agent çŸ¥è­˜ä¾†æºé—œè¯è¡¨
CREATE TABLE IF NOT EXISTS agent_knowledge_sources (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    agent_id UUID REFERENCES agents(id) ON DELETE CASCADE,
    file_id UUID REFERENCES files(id) ON DELETE CASCADE,
    added_at TIMESTAMPTZ DEFAULT NOW(),
    UNIQUE(agent_id, file_id)
);

-- æ–°å¢æ¬„ä½åˆ° agents è¡¨
ALTER TABLE agents ADD COLUMN IF NOT EXISTS knowledge_status VARCHAR(30) DEFAULT 'up_to_date';
ALTER TABLE agents ADD COLUMN IF NOT EXISTS last_knowledge_alert TIMESTAMPTZ;
ALTER TABLE agents ADD COLUMN IF NOT EXISTS status_reason TEXT;

-- çŸ¥è­˜æ›´æ–°è§¸ç™¼å™¨
CREATE OR REPLACE FUNCTION notify_knowledge_update()
RETURNS TRIGGER AS $$
BEGIN
    PERFORM pg_notify(
        'knowledge_update',
        json_build_object(
            'file_id', NEW.id,
            'action', TG_OP,
            'updated_at', NEW.updated_at
        )::text
    );
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_knowledge_update
    AFTER INSERT OR UPDATE ON files
    FOR EACH ROW
    WHEN (NEW.gemini_state = 'SYNCED')
    EXECUTE FUNCTION notify_knowledge_update();
```

---

## ğŸš€ å¯¦æ–½è·¯ç·šåœ–

### Phase 1-3: åŸºç¤å»ºè¨­ï¼ˆå·²å®Œæˆ âœ…ï¼‰

- âœ… å¯¦ä½œå¤šç¶­åº¦çŸ¥è­˜ç´¢å¼•ç³»çµ±
- âœ… å¯¦ä½œ Agent çŸ¥è­˜è·¯ç”±ç³»çµ±
- âœ… å¯¦ä½œèªç¾©çŸ¥è­˜åœ–è­œ

### Phase 4: v3.0 é€²éšå­ç³»çµ±ï¼ˆè¦åŠƒä¸­ ğŸ“‹ï¼‰

#### Phase 4.1: çŸ¥è­˜æ™‚æ•ˆæ€§ç®¡ç†ï¼ˆé è¨ˆ 2-3 é€±ï¼‰

| å„ªå…ˆåº | åŠŸèƒ½ | æè¿° | é ä¼°å·¥æ™‚ |
|-------|-----|------|---------|
| P0 | çŸ¥è­˜è¡°æ¸›æ¨¡å‹ | ä¾çŸ¥è­˜é¡å‹è¨ˆç®—ä¿é®®æœŸ | 3 å¤© |
| P0 | è¡°æ¸›é¡å‹è‡ªå‹•æ¨æ–· | AI åˆ†ææ–‡ä»¶é¡å‹ | 2 å¤© |
| P1 | è¡°æ¸›ç‹€æ…‹è¦–è¦ºåŒ– | åœ¨æ–‡ä»¶åˆ—è¡¨é¡¯ç¤ºè¡°æ¸›ç‹€æ…‹ | 2 å¤© |
| P1 | éæœŸé è­¦å„€è¡¨æ¿ | é›†ä¸­é¡¯ç¤ºå³å°‡éæœŸçŸ¥è­˜ | 3 å¤© |

#### Phase 4.2: åé¥‹å­¸ç¿’ç³»çµ±ï¼ˆé è¨ˆ 3-4 é€±ï¼‰

| å„ªå…ˆåº | åŠŸèƒ½ | æè¿° | é ä¼°å·¥æ™‚ |
|-------|-----|------|---------|
| P0 | é¡¯æ€§åé¥‹æ”¶é›† | ä½¿ç”¨è€…æŒ‰è®š/å€’è®š UI | 2 å¤© |
| P0 | åé¥‹è¨˜éŒ„èˆ‡çµ±è¨ˆ | è³‡æ–™åº«èˆ‡ API | 3 å¤© |
| P1 | éš±æ€§åé¥‹åˆ†æ | è¡Œç‚ºæ¨¡å¼æ¨æ–·æ»¿æ„åº¦ | 5 å¤© |
| P1 | å­¸ç¿’å¼•æ“ | å¾åé¥‹èª¿æ•´å“è³ªè©•åˆ† | 5 å¤© |

#### Phase 4.3: çŸ¥è­˜èšåˆç³»çµ±ï¼ˆé è¨ˆ 3-4 é€±ï¼‰

| å„ªå…ˆåº | åŠŸèƒ½ | æè¿° | é ä¼°å·¥æ™‚ |
|-------|-----|------|---------|
| P0 | æ¦‚å¿µæå– | å¾æ–‡ä»¶æå–æ ¸å¿ƒæ¦‚å¿µ | 3 å¤© |
| P0 | èšåˆå€™é¸ç™¼ç¾ | æ‰¾å‡ºå¯æ•´åˆçš„æ–‡ä»¶ç¾¤ | 3 å¤© |
| P1 | çŸ¥è­˜åˆæˆå¼•æ“ | AI æ•´åˆå¤šä»½æ–‡ä»¶ | 5 å¤© |
| P1 | è¡çªåµæ¸¬ | æ‰¾å‡ºçŸ¥è­˜çŸ›ç›¾ | 3 å¤© |

#### Phase 4.4: æ•ˆèƒ½å„ªåŒ–ï¼ˆé è¨ˆ 1-2 é€±ï¼‰

| å„ªå…ˆåº | åŠŸèƒ½ | æè¿° | é ä¼°å·¥æ™‚ |
|-------|-----|------|---------|
| P0 | HNSW ç´¢å¼•å»ºç«‹ | pgvector å‘é‡ç´¢å¼• | 1 å¤© |
| P0 | èªç¾©æœå°‹ RPC | å„ªåŒ–æœå°‹å‡½æ•¸ | 2 å¤© |
| P1 | æ‰¹é‡ç›¸ä¼¼åº¦è¨ˆç®— | ç”¨æ–¼åœ–è­œå»ºæ§‹ | 2 å¤© |

#### Phase 4.5: ä¸»å‹•æ¨é€ç³»çµ±ï¼ˆé è¨ˆ 2-3 é€±ï¼‰

| å„ªå…ˆåº | åŠŸèƒ½ | æè¿° | é ä¼°å·¥æ™‚ |
|-------|-----|------|---------|
| P0 | é€šçŸ¥è³‡æ–™æ¨¡å‹ | è³‡æ–™åº«çµæ§‹ | 1 å¤© |
| P0 | çŸ¥è­˜æ›´æ–°è§¸ç™¼å™¨ | è®Šæ›´è‡ªå‹•é€šçŸ¥ | 2 å¤© |
| P1 | é€šçŸ¥ä¸­å¿ƒ UI | ä½¿ç”¨è€…é€šçŸ¥ä»‹é¢ | 4 å¤© |

---

## ğŸ“ˆ é æœŸæ•ˆç›Š

### æŠ€è¡“å„ªå‹¢

| èƒ½åŠ› | v2.0 | v3.0 | æå‡å¹…åº¦ |
|-----|------|------|---------|
| çŸ¥è­˜æ™‚æ•ˆæ€§åˆ¤æ–· | ç²—ç•¥ï¼ˆä¾å¤©æ•¸ï¼‰ | ç²¾æº–ï¼ˆä¾é¡å‹è¡°æ¸›ï¼‰ | **æº–ç¢ºåº¦ +40%** |
| å“è³ªè©•ä¼°ä¾æ“š | éœæ…‹åˆ†æ | å‹•æ…‹åé¥‹å­¸ç¿’ | **æŒçºŒå„ªåŒ–** |
| çŸ¥è­˜å®Œæ•´æ€§ | å–®ä¸€æ–‡ä»¶è¦–è§’ | èšåˆçŸ¥è­˜å–®å…ƒ | **è¦†è“‹åº¦ +60%** |
| èªç¾©æœå°‹é€Ÿåº¦ | O(nÂ²) | O(n log n) | **100 å€æå‡** |
| çŸ¥è­˜ç•°å¸¸ç™¼ç¾ | è¢«å‹•ç­‰å¾… | ä¸»å‹•æ¨é€é€šçŸ¥ | **å³æ™‚éŸ¿æ‡‰** |

### v3.0 ç‰¹æœ‰æ•ˆç›Š

| åŠŸèƒ½ | æ¥­å‹™å ´æ™¯ | é æœŸæ•ˆç›Š |
|-----|---------|---------
| çŸ¥è­˜è¡°æ¸›æ¨¡å‹ | å ±åƒ¹ Agent ä½¿ç”¨ç”¢å“åƒ¹æ ¼è¡¨ | è‡ªå‹•æ¨™è¨˜éæœŸåƒ¹æ ¼ï¼Œé¿å…å ±éŒ¯åƒ¹ |
| åé¥‹å­¸ç¿’è¿´è·¯ | å®¢æœ Agent å›ç­”å®¢æˆ¶å•é¡Œ | è¶Šç”¨è¶Šæº–ï¼Œæ¸›å°‘äººå·¥ä»‹å…¥ |
| çŸ¥è­˜ç¢ç‰‡èšåˆ | é›¢è·æµç¨‹æ¶‰åŠ HR/IT/è²¡å‹™ | ä¸€æ¬¡è©¢å•ç²å¾—å®Œæ•´æµç¨‹ |
| é«˜æ•ˆèƒ½æœå°‹ | è¬ä»½æ–‡ä»¶ä¸­æ‰¾ç›¸é—œçŸ¥è­˜ | å¾åˆ†é˜ç´šé™è‡³ç§’ç´š |
| ä¸»å‹•æ¨é€ | æ”¿ç­–æ›´æ–°å½±éŸ¿å¤šå€‹ Agent | å³æ™‚é€šçŸ¥ï¼ŒåŒæ­¥æ›´æ–° |

---

## ğŸ“‹ é™„éŒ„ï¼šæŠ€è¡“è¦æ ¼ç¸½è¡¨

### è³‡æ–™åº«æ–°å¢çµæ§‹

| è¡¨å | ç”¨é€” | æ–°å¢/ä¿®æ”¹ |
|-----|-----|----------|
| `files` | æ ¸å¿ƒæ–‡ä»¶è¡¨ | æ–°å¢ 10 å€‹æ¬„ä½ |
| `agents` | Agent è¡¨ | æ–°å¢ 3 å€‹æ¬„ä½ |
| `knowledge_feedback_events` | åé¥‹äº‹ä»¶ | æ–°å¢è¡¨ |
| `knowledge_units` | çŸ¥è­˜å–®å…ƒ | æ–°å¢è¡¨ |
| `knowledge_unit_files` | å–®å…ƒ-æ–‡ä»¶é—œè¯ | æ–°å¢è¡¨ |
| `knowledge_notifications` | é€šçŸ¥ | æ–°å¢è¡¨ |
| `agent_knowledge_sources` | Agent-çŸ¥è­˜é—œè¯ | æ–°å¢è¡¨ |

### API ç«¯é»è¦åŠƒ

| ç«¯é» | æ–¹æ³• | ç”¨é€” |
|-----|-----|-----|
| `/api/knowledge/decay/calculate` | POST | è¨ˆç®—å–®ä¸€æ–‡ä»¶è¡°æ¸›åˆ†æ•¸ |
| `/api/knowledge/decay/batch-update` | POST | æ‰¹æ¬¡æ›´æ–°æ‰€æœ‰è¡°æ¸›åˆ†æ•¸ |
| `/api/knowledge/feedback` | POST | è¨˜éŒ„åé¥‹äº‹ä»¶ |
| `/api/knowledge/feedback/stats/:fileId` | GET | å–å¾—æ–‡ä»¶åé¥‹çµ±è¨ˆ |
| `/api/knowledge/units` | GET/POST | çŸ¥è­˜å–®å…ƒ CRUD |
| `/api/knowledge/units/discover` | POST | ç™¼ç¾å¯èšåˆçš„çŸ¥è­˜ |
| `/api/knowledge/search/semantic` | POST | é«˜æ•ˆèƒ½èªç¾©æœå°‹ |
| `/api/notifications` | GET | å–å¾—ä½¿ç”¨è€…é€šçŸ¥ |
| `/api/notifications/:id/resolve` | POST | è§£æ±ºé€šçŸ¥ |

### æ’ç¨‹ä»»å‹™

| ä»»å‹™ | é »ç‡ | ç”¨é€” |
|-----|-----|-----|
| `update_decay_scores` | æ¯æ—¥ 02:00 | æ›´æ–°æ‰€æœ‰æ–‡ä»¶è¡°æ¸›åˆ†æ•¸ |
| `check_approaching_expiry` | æ¯æ—¥ 08:00 | æª¢æŸ¥å³å°‡éæœŸçŸ¥è­˜ä¸¦ç™¼é€é€šçŸ¥ |
| `run_daily_learning` | æ¯æ—¥ 03:00 | åŸ·è¡Œåé¥‹å­¸ç¿’åˆ†æ |
| `detect_conflicts` | æ¯é€±ä¸€ | æƒæçŸ¥è­˜è¡çª |

---

**å ±å‘ŠçµæŸ**

**æ–‡ä»¶ç‰ˆæœ¬**: v3.0  
**æ›´æ–°æ—¥æœŸ**: 2026-01-05  
**ä½œè€…**: EAKAP ç³»çµ±æ¶æ§‹åœ˜éšŠ
